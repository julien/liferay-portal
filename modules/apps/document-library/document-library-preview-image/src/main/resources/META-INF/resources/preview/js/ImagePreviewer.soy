{namespace com.liferay.document.library.preview.ImagePreviewer}

/**
 * ImagePreviewer Component
 */

{template .render}
	{@param imageURL: string}
	{@param spritemap: string}
	{@param? _handleZoom: any}
	{@param? id: string}
	{@param? imageMargin: string}
	{@param? imageHeight: number}
	{@param? imageWidth: number}
	{@param? zoomActual: number}
	{@param? zoomInDisabled: bool}
	{@param? zoomFitToggle: bool}
	{@param? zoomOutDisabled: bool}

	<div class="preview-file" id="{$id}">
		<div class="preview-file-container preview-file-max-height" ref="imageContainer">
			<img
				class="preview-file-image"
				ref="image"
				src="{$imageURL}"
				style="
					{if $imageWidth and $imageHeight}
						{sp}max-width: {$imageWidth}px;
						{sp}width: {$imageWidth}px;
						{sp}max-height: {$imageHeight}px;
						{sp}height: {$imageHeight}px;
					{/if}
					{if $imageMargin}
						{sp}margin: {$imageMargin};
					{/if}
				"
			/>
		</div>
		{call .toolbar}
			{param _handleZoom: $_handleZoom /}
			{param spritemap: $spritemap /}
			{param zoomActual: $zoomActual /}
			{param zoomInDisabled: $zoomInDisabled /}
			{param zoomFitToggle: $zoomFitToggle /}
			{param zoomOutDisabled: $zoomOutDisabled /}
		{/call}
	</div>
{/template}

{template .toolbar}
	{@param spritemap: string}
	{@param? _handleZoom: any}
	{@param? zoomActual: number}
	{@param? zoomInDisabled: bool}
	{@param? zoomFitToggle: bool}
	{@param? zoomOutDisabled: bool}

	{let $zoomLabel: round(($zoomActual ?: 0) * 100) /}
	{let $baseButtonsToolbar:[
		'elementClasses': 'btn-dark',
		'events': [ 'click': $_handleZoom ],
		'spritemap': $spritemap,
		'style': false
	] /}
	{let $zoomFitToggleValue: $zoomFitToggle
		? 'fit'
		: 'real'
	/}

	<div class="preview-toolbar-container">
		<div class="btn-group" role="group">
			{call ClayButton.render data="$baseButtonsToolbar"}
				{param disabled: $zoomOutDisabled /}
				{param icon: 'hr' /}
				{param monospaced: true /}
				{param value: 'out' /}
			{/call}
			{call ClayButton.render data="$baseButtonsToolbar"}
				{param label kind="text"}{$zoomLabel}%{/param}
				{param value: $zoomFitToggleValue /}
			{/call}
			{call ClayButton.render data="$baseButtonsToolbar"}
				{param disabled: $zoomInDisabled /}
				{param icon: 'plus' /}
				{param monospaced: true /}
				{param value: 'in' /}
			{/call}
		</div>
	</div>
{/template}